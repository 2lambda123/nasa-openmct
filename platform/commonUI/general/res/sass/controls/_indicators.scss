/*****************************************************************************
 * Open MCT, Copyright (c) 2014-2017, United States Government
 * as represented by the Administrator of the National Aeronautics and Space
 * Administration. All rights reserved.
 *
 * Open MCT is licensed under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0.
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations
 * under the License.
 *
 * Open MCT includes source code licensed under additional open source
 * licenses. See the Open Source Licenses file (LICENSES.md) included with
 * this source code distribution or the Licensing information page available
 * at runtime from the About dialog for additional information.
 *****************************************************************************/

/* Indicators are generally only displayed in the ue-bottom-bar element of the main interface */

mct-indicators {
    display: flex;
    flex-flow: row nowrap;
    justify-content: flex-start;
    mct-include,
    .h-indicator {
        display: inline; // Fallback for display: contents
        display: contents;
    }
}

.l-indicator {
    $transDelayHover: 1.5s;
    $transDelayWhileExpanded: 2.5s;
    $transSpeedExpand: 0ms;
    $transSpeedCollapse: 350ms;
    align-items: center;
    border-radius: 2px;
    display: flex;
    flex-flow: row nowrap;
    height: 100%;
    line-height: auto;
    //margin-right: $interiorMarginSm;
    padding: 0px $interiorMarginSm;

    &:before,
    .label,
    .count {
        display: inline-block;
        flex: 1 1 auto;
    }

    &:before {
        // Icon
        margin-right: 0; // $interiorMarginSm;
        //display: inline-block;
        //opacity: 0.85;
    }

    .label,
    .count {
        //margin-left: $interiorMarginSm;
        //@include test(green, 1);
        //display: inline-block;
        //vertical-align: middle;
    }

    &.float-right {
        //float: right;
        order: 999;
    }

    &.no-icon {
        &:before {
            display: none;
        }
    }

    &.no-collapse {
        &:before {
            margin-right: $interiorMarginSm;
        }
    }

    &:not(.no-collapse) {
        &:before,
        .label {
            @include trans-prop-nice((max-width, margin-right, background), $transSpeedCollapse, $transDelayWhileExpanded);
        }

        .label {
            // Max-width silliness is necessary for width transition
            overflow: hidden;
            max-width: 0px;
            white-space: nowrap;
        }

        &:hover {
            &:before {
                @include trans-prop-nice((margin-right), $transSpeedExpand);
                margin-right: $interiorMarginSm;
                //opacity: 1;
            }

            .label {
                @include trans-prop-nice((max-width, background), $transSpeedExpand);
                //margin-right: $interiorMargin;
                max-width: 600px;
                width: auto;
            }

            .count {
                @include trans-prop-nice(max-width, $transSpeedExpand);
                opacity: 0;
            }
        }
    }

    .count {
        @include trans-prop-nice(opacity, $transSpeedCollapse, $transDelayWhileExpanded);
        font-weight: bold;
        opacity: 1;
    }

    .s-button {
        background: $colorStatusBtnBg;
        padding: 0 $interiorMargin;
        height: auto;
        line-height: inherit;
    }
}

.s-indicator {
    background: transparent !important;
    color: $colorStatusDefault;
    &:hover {
        background: rgba(#fff, 0.2) !important;
    }

    &.subdued {
        opacity: 0.7;
    }

}
